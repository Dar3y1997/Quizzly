{% extends "base.html" %}

{% block title %} Quiz List {% endblock %}

{% block content %}
<div class="container mx-auto px-6 py-8">
    <!-- Header -->
    <h1 class="text-3xl font-bold text-gray-800 text-center mb-4">Quiz List</h1>

    <!-- Toggle Buttons -->
    <div class="flex justify-center space-x-2 mb-6">
        <button id="listViewBtn" 
            class="px-3 py-2 rounded-lg border text-sm font-medium transition active-btn">
            List View
        </button>
        <button id="cardViewBtn" 
            class="px-3 py-2 rounded-lg border text-sm font-medium transition">
            Card View
        </button>
    </div>

    <!-- Quiz Container -->
    <div id="quizContainer" class="grid gap-4">
        {% for quiz in quizzes %}
            <!-- Card View -->
            <div class="quiz-card hidden bg-white shadow-md rounded-2xl p-5 hover:shadow-xl transition">
                <h2 class="text-xl font-semibold text-gray-900">{{ quiz.title }}</h2>
                <p class="text-gray-600 text-sm mb-3">{{ quiz.description }}</p>
                <a href="{% url 'quizApp:take_quiz' quiz.id %}" 
                   class="inline-block px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700">
                   Take Quiz
                </a>
            </div>

            <!-- List View -->
            <div class="quiz-list-item flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                <div>
                    <h2 class="text-lg font-semibold text-gray-800">{{ quiz.title }}</h2>
                    <p class="text-gray-600 text-sm">{{ quiz.description }}</p>
                </div>
                <a href="{% url 'quizApp:take_quiz' quiz.id %}" 
                   class="px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700">
                   Take Quiz
                </a>
            </div>
        {% endfor %}
    </div>
</div>

<!-- Toggle Script -->
<script>
    const listViewBtn = document.getElementById("listViewBtn");
    const cardViewBtn = document.getElementById("cardViewBtn");
    const quizCards = document.querySelectorAll(".quiz-card");
    const quizListItems = document.querySelectorAll(".quiz-list-item");

    function setActive(button) {
        [listViewBtn, cardViewBtn].forEach(btn => {
            btn.classList.remove("active-btn", "bg-blue-600", "text-white", "border-blue-600");
            btn.classList.add("border-gray-300", "text-gray-700", "hover:bg-gray-100");
        });
        button.classList.add("active-btn", "bg-blue-600", "text-white", "border-blue-600");
        button.classList.remove("border-gray-300", "text-gray-700", "hover:bg-gray-100");
    }

    listViewBtn.addEventListener("click", () => {
        quizCards.forEach(c => c.classList.add("hidden"));
        quizListItems.forEach(l => l.classList.remove("hidden"));
        setActive(listViewBtn);
    });

    cardViewBtn.addEventListener("click", () => {
        quizListItems.forEach(l => l.classList.add("hidden"));
        quizCards.forEach(c => c.classList.remove("hidden"));
        setActive(cardViewBtn);
    });

    // Set default active on List View
    setActive(listViewBtn);
</script>
{% endblock %}



<h1 class="title">Quiz List</h1>
    <ul>
        {% for quiz in quizzes %}
            <li>
            {{ quiz.title}} - <a href="{% url 'quizApp:take_quiz' quiz.id %}">Take Quiz</a>
                <p> {{quiz.description}} </p>
            </li>
        {% endfor %}
    </ul>






